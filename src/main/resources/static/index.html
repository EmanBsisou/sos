<!DOCTYPE html>
<html>
    <head>
        <title>SOS</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="assets/css/sos.css">   
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

    </head>
				
		<style>
		[ng\:cloak], [ng-cloak], .ng-cloak {
			display: none !important;
		}
		.margin-top-5 {
			margin-top: 10px;
		}
		.p-img {
			height: 50px;
			width: 50px;
			border-radius: 50%;
		}
		</style>
			
    <body ng-app="sos" data-ng-controller="MainController">
		<!-- <div class="ng-cloak">  <!-- Div ng-controller was preventing as it clashes
		<ul class="nav nav-pills" role="tablist">
			<li ng-class="{active:nav.tab('home')}"><a href="#/">home</a></li>
			<li ng-class="{active:nav.tab('navigation')}"><a href="#/login">login</a></li>
			<li><a href="" ng-click="nav.logout()">logout</a></li>
			
			<li><h1>     *** SOS MEDICAL EMERGENCY SYSTEM*** </h1></li>
		</ul>
	</div> -->
	<!-- Login panel -->
		<div class="container" style="margin-top: 50px;">
			<div class=" col-md-4 col-md-offset-4" >
				<div class="panel panel-default" ng-show="!user">
					<div class="panel-heading">Google login with OAuth</div>
					<div class="panel-body">
						<div class="col-md-12">
							<a class="btn btn-default" href="/google/login">Google Login</a>
						</div>
					</div>
				</div>
				<!-- End Login panel -->

				<!-- Home panel. It will visible after successfull login -->
				<div class="panel panel-default" ng-show="user">
					<div class="panel-heading">
						<img class="p-img" alt=""
							ng-src="{{user.userAuthentication.details.picture}}">
						{{user.name}}
					</div>
					<div class="panel-body">

						<div class="col-md-12">Email :
							{{user.userAuthentication.details.email}}</div>
						<div class="col-md-12">
							<a href="#" class="btn btn-default margin-top-5"
								ng-click="logout()"> Logout </a>
						</div>
					</div>
				</div>
				<!-- End Home Panel -->
			</div>
		</div>

        <div class="container-fluid">
            <div class="row">
                <div class="text-center map col-md-10" id="map" ng-style="{height: winHeight}">                
                </div>
                <div class="alertList col-lg-2 col-xs-6">
                    <div class="list-group" data-ng-repeat="marker in alertList" >                    
                        <div class="list-group-item clickable" ng-class="{'blink':marker.info.status}"  ng-style="{'background-color':alertListBGC}" data-ng-click="openInfoWindow(marker)" >
                            <h4 class="list-group-item-heading">
                                <img class="icon-response list-icon" src="assets/images/User.png">
                                <span ng-style="{color: alertFontColor}" data-ng-bind="marker.info.userId"></span>
                            </h4>
                            <p class="list-group-item-text" ng-style="{color: alertFontColor}" data-ng-if="marker.info.responser"><small>
                                Assigned To: <span data-ng-bind="marker.info.responser.info.userId"></span></small>
                            </p>      
                        </div>                                       
                    </div>            
                    <div class="responserList list-group" data-ng-repeat="marker in responserList">
                        <div class="list-group-item clickable" data-ng-click="openInfoWindow(marker)" >
                            <h4 class="list-group-item-heading">
                                <img class="icon-responser list-icon" src="assets/images/Responser.png">
                                <span data-ng-bind="marker.info.userId"></span>
                            </h4>
                            <p class="list-group-item-text" data-ng-if="marker.info.assignTo"><small>
                            Assigned To: <span data-ng-bind="marker.info.assignTo.info.userId"></span></small>
                        </p>
                        </div>
                    </div>       
                </div>               
            </div>
        <script src="https://code.angularjs.org/1.4.8/angular.min.js"></script>
        <script src="https://code.angularjs.org/1.4.8/angular-route.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.12/angular-strap.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.12/angular-strap.tpl.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD4chQPK39N_LsSDNwuqjixnKYP9vRbH3c&language=en">
        </script>

        <script src="application.js"></script>
        <script src="main.controller.js"></script>
				
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
        
    </body>
</html>
